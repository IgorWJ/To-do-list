const button = document.querySelector('.button-add-task')
const input = document.querySelector('.input-task')
const ul = document.querySelector('.list-tasks')

let listaItens = []

function addTarefa(){
    listaItens.push({
       tarefa: input.value,
       concluida: false
    })
    input.value = ''
    mostrarTarefa()
}

function mostrarTarefa(){
    let novaLi = ''
    listaItens.forEach((item, index) =>{
        novaLi += `
                    <li class="task ${item.concluida && "done"}" >
                        <img class="btn-check" src="./img/checked.png" alt="checked" onclick="tarefaConcluida(${index})" >
                        <p>${item.tarefa}</p>
                        <img class="btn-trash" src="./img/cancel.png" alt="cancel" onclick="detelarTarefa(${index})">
                    </li>
        `
    })
    ul.innerHTML = novaLi
}

function detelarTarefa(index){
    listaItens.splice(index, 1)
    mostrarTarefa()
}

function tarefaConcluida(index){
    listaItens[index].concluida = !listaItens[index].concluida
    mostrarTarefa()
}

button.addEventListener('click', addTarefa)